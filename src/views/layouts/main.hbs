<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <link
      href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css'
      rel='stylesheet'
      integrity='sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU'
      crossorigin='anonymous'
    />
    <link rel='stylesheet' href='/css/style.css' />
    <script src='https://kit.fontawesome.com/76c2b2c479.js' crossorigin='anonymous'></script>
    <title>Expense Tracker</title>
  </head>
  <body>
    <header>
      <nav class='navbar fixed-top navbar-dark bg-dark'>
        <div class='container h-100'>
          <a class='navbar-brand' href='/'>
            {{#if user.name}}{{user.name}}的{{else}}家庭{{/if}}記帳本
          </a>
          {{#if isAuthenticated}}
          <a href='/users/logout' class='btn btn-outline-light'>Logout</a>
          {{else}}
          <a href='/users/login' class='btn btn-outline-light'>Login</a>
          {{/if}}
        </div>
      </nav>
    </header>
    <div class='body-container'>
      {{{body}}}
    </div>
    <footer class='mb-5'></footer>
    <script
      src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js'
      integrity='sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ'
      crossorigin='anonymous'
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous">
    </script>
    <script>
      $('#confirmDelete').on('show.bs.modal', function (e) {
          const btn = $(e.relatedTarget);
          const url = '/expense/' + btn.data('id') + '?_method=DELETE'
          const modal = $(this);
          modal.find('#form').attr('action' ,url)
      });
    </script>
  </body>
</html>